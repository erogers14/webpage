---
title: "Are Students Really Dropping out of School?"
author: "Group 1: Emmely Rogers and Dana Vera"
date: "Last updated on `r Sys.Date()`"
output:
  html_document:
    code_folding: hide
    highlight: tango
    theme: cosmo
    toc: true
    toc_depth: 2
    toc_float: true
    df_print: kable
---

<!--
Comments in HTML are like this! 
-->


```{r, echo=FALSE, message=FALSE, warning=FALSE}
# Set R Markdown chunk defaults:
knitr::opts_chunk$set(
  echo = FALSE, message = FALSE, warning = FALSE, 
  fig.width = 16/2, fig.height = 9/2
)
```


```{r, echo=TRUE, message=FALSE, warning=FALSE}

# Load all necessary packages here
library(tidyverse)
library(readxl)
library(stringr)
library(plotly)


# make a dataframe for our dataset (dropout rates from 1960 to 2016)
# rename the variable we are using
# remove rows that are empty/don't contain data
# select columns with the variables we want to use
# get just the first 4 characters of Year and make it a numeric variable
# make Dropouts a numeric variable
dropoutRatesManyYears <- read_excel("tabn219.70.xls", skip = 2) %>%
  rename(Dropouts = "Total status dropout rate") %>%
  slice(-c(1, 2, 7, 13, 19, 25, 31, 37,43, 49, 55, 61, 64:73)) %>%
  select(Year, Dropouts) %>%
  mutate(Year = as.numeric(substr(Year, 1, 4)),
         Dropouts = as.numeric(Dropouts))


# make a linegraph
plot_ly(data = dropoutRatesManyYears, x = ~Year, y = ~Dropouts,
        type = 'scatter', mode = 'lines+markers',
        text = ~paste("Year: ", Year, "<br />Dropout Rate: ",
                      paste(format(round(Dropouts, 2), nsmall = 2)), "%", sep = ""),
        hoverinfo = 'text',
        line = list(color = 'rgb(0, 204, 204)', 
                    width = 4),
        marker = list(color = 'rgb(0, 76, 153)')) %>%
  layout(title = "Total High School Dropout Rates from 1960 to 2016",
         yaxis = list(title = "Percentage of Dropouts", 
                      range = c(0,30),
                      zeroline = F, ticksuffix = "%"),
         xaxis = list(title = "Year", 
                      range = c(1957,2018), 
                      zeroline = F)) %>%
  config(displayModeBar = FALSE)

```

# A Decline in Dropout Rates

Problem Statement!!

The data^[“Digest of Education Statistics, 2017.” *National Center for Education Statistics (NCES) Home Page, a Part of the U.S. Department of Education*, National Center for Education Statistics, [nces.ed.gov/programs/digest/d17/tables/dt17_219.70.asp](https://nces.ed.gov/programs/digest/d17/tables/dt17_219.70.asp){target="_blank"}.] we used was from the Current Population Survey (CPS)^[US Census Bureau. “Current Population Survey (CPS).” *Census Bureau QuickFacts*, United States Census Bureau, 5 Oct. 2018, [www.census.gov/programs-surveys/cps.html](https://www.census.gov/programs-surveys/cps.html){target="_blank"}.] run by the U.S. Census Bureau. From the interactive line graph^[“Line Plots.” *Modern Visualization for the Data Era - Plotly*, [plot.ly/r/line-charts/](https://plot.ly/r/line-charts/){target="_blank"}.] above, we can learn that high school dropout rates in the United States have a downward trend as year increases. The most significant change in dropout rates was between 1960 and 1961; the dropout rate decreased by more than 10 percent.


Read our "More Info" tab to learn about two factors that influence high school dropout rates in the 2009-2010 school year and how dropout rates varied across the United States.

# References and Citations

